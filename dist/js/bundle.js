!function(e){var t={};function n(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return e[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(c,r,function(t){return e[t]}.bind(null,r));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n(1);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}var o,a,i,l=function(){function e(t,n,r){c(this,e),this.id=t,this.description=n,this.value=r,this.percentage=-1}var t,n,o;return t=e,(n=[{key:"calcPercentage",value:function(e){this.percentage=e>0?Math.round(this.value/e*100):-1}},{key:"getPercentage",value:function(){return this.percentage}}])&&r(t.prototype,n),o&&r(t,o),e}(),u=function e(t,n,r){c(this,e),this.id=t,this.description=n,this.value=r},d={allItems:{exp:[],inc:[]},totals:{exp:0,inc:0},budget:0,percentage:-1},s=function(e){var t=0;d.allItems[e].forEach((function(e){return t+=e.value})),d.totals[e]=t},p=".add__type",v=".add__description",f=".add__value",g=".add__btn",m=".income__list",y=".expenses__list",_=".budget__value",b=".budget__income--value",x=".budget__expenses--value",h=".budget__expenses--percentage",S=".container",q=".item__percentage",I=".budget__title--month",E=function(e,t){var n=(e=(e=Math.abs(e)).toFixed(2)).split("."),c=n[0];c.length>3&&(c="".concat(c.substr(0,c.length-3),",").concat(c.substr(c.length-3,3)));var r=n[1];return"".concat("exp"===t?"-":"+"," ").concat(c,".").concat(r)},C=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},M=function(e){var t;t=e.budget>0?"inc":"exp",document.querySelector(_).textContent=E(e.budget,t),document.querySelector(b).textContent=E(e.totalInc,"inc"),document.querySelector(x).textContent=E(e.totalExp,"exp"),e.percentage>0?document.querySelector(h).textContent="".concat(e.percentage,"%"):document.querySelector(h).textContent="--"},O=function(){var e=document.querySelectorAll("".concat(p,",").concat(v,",").concat(f));C(e,(function(e){e.classList.toggle("red-focus")})),document.querySelector(g).classList.toggle("red")},P=function(){s("exp"),s("inc"),d.budget=d.totals.inc-d.totals.exp,d.totals.inc>0?d.percentage=Math.round(d.totals.exp/d.totals.inc*100):d.percentage=-1;var e={budget:d.budget,totalInc:d.totals.inc,totalExp:d.totals.exp,percentage:d.percentage};M(e)},j=function(){d.allItems.exp.forEach((function(e){e.calcPercentage(d.totals.inc)})),function(e){var t=document.querySelectorAll(q);C(t,(function(t,n){e[n]>0?t.textContent="".concat(e[n],"%"):t.textContent="--"}))}(d.allItems.exp.map((function(e){return e.getPercentage()})))},k=function(){var e,t,n,c,r,o,a,i={type:document.querySelector(p).value,description:document.querySelector(v).value,value:parseFloat(document.querySelector(f).value)};if(""!==i.description&&!isNaN(i.value)&&i.value>0){var s=function(e,t,n){var c,r;return r=d.allItems[e].length>0?d.allItems[e][d.allItems[e].length-1].id+1:0,"exp"===e?c=new l(r,t,n):"inc"===e&&(c=new u(r,t,n)),d.allItems[e].push(c),c}(i.type,i.description,i.value);n=s,"inc"===(c=i.type)?(a=m,r='<div class="item clearfix" id="inc-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__delete"><button class="item__delete--btn">x</button></div></div></div>'):"exp"===c&&(a=y,r='<div class="item clearfix" id="exp-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__percentage">25%</div><div class="item__delete"><button class="item__delete--btn">x</button></div></div></div>'),o=(o=(o=r.replace("%id%",n.id)).replace("%description%",n.description)).replace("%value%",E(n.value,c)),document.querySelector(a).insertAdjacentHTML("beforeend",o),e=document.querySelectorAll("".concat(v,", ").concat(f)),(t=Array.from(e)).forEach((function(e){return e.value=""})),t[0].focus(),P(),j()}},w=function(e){var t,n,c=e.target.parentNode.parentNode.parentNode.id;if(c){var r=c.split("-");!function(e,t){var n=d.allItems[e].map((function(e){return e.id})).indexOf(t);-1!==n&&d.allItems[e].splice(n,1)}(r[0],parseInt(r[1])),t=c,(n=document.getElementById(t)).parentNode.removeChild(n),P(),j()}};console.log("Application has started afresh"),o=new Date,a=o.getMonth(),i=o.getFullYear(),document.querySelector(I).textContent="".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a]," ").concat(i),M({budget:0,totalInc:0,totalExp:0,percentage:-1}),document.querySelector(g).addEventListener("click",k),document.addEventListener("keypress",(function(e){13!==e.keyCode&&13!==e.which||k()})),document.querySelector(S).addEventListener("click",w),document.querySelector(p).addEventListener("change",O),document.querySelector(".goto-page").addEventListener("click",(function(e){console.log("A page button was clicked")}))}]);